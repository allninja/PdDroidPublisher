#N canvas 65 54 1301 714 10;
#X floatatom 432 7 5 0 0 0 - - -, f 5;
#X obj 338 4 midirealtimein;
#X text 503 23 // 248 == beat;
#N canvas 65 102 760 415 audio_feedback 0;
#X obj 266 301 *~;
#X obj 266 357 dac~;
#X obj 340 284 line~;
#X obj 340 209 t b b;
#X msg 340 233 1 5;
#X obj 383 234 del 5;
#X msg 386 257 0 5;
#X obj 265 249 osc~ 880;
#X obj 340 49 spigot;
#X obj 373 25 inlet;
#X obj 340 3 inlet;
#X obj 340 97 f 0;
#X obj 366 97 + 1;
#X obj 231 135 sel 0;
#X msg 231 163 1600;
#X msg 265 163 880;
#X obj 231 114 % 4;
#X obj 425 25 inlet reset;
#X msg 425 48 0;
#X connect 0 0 1 0;
#X connect 0 0 1 1;
#X connect 2 0 0 1;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 0 0;
#X connect 8 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 11 0 16 0;
#X connect 11 0 3 0;
#X connect 12 0 11 1;
#X connect 13 0 14 0;
#X connect 13 1 15 0;
#X connect 14 0 7 0;
#X connect 15 0 7 0;
#X connect 16 0 13 0;
#X connect 17 0 18 0;
#X connect 18 0 11 1;
#X restore 543 569 pd audio_feedback;
#X msg 592 526 1;
#X msg 592 549 0;
#N canvas 656 150 450 300 time 0;
#X obj 63 122 timer;
#X obj 63 166 swap 60000;
#X obj 63 189 /;
#X obj 138 167 outlet ms;
#X obj 63 215 outlet bpm;
#X obj 63 -10 inlet;
#X obj 63 42 t b b;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 0 0;
#X connect 6 1 0 1;
#X restore 480 569 pd time;
#X text 625 524 on;
#X text 624 546 off;
#X text 501 48 // 252 == stop;
#X text 500 61 // 251 == resume;
#X obj 480 646 outlet bpm;
#X obj 519 685 outlet dt;
#X text 436 568 info;
#X obj 129 105 r localbpm.s;
#X obj 129 149 swap 60000;
#X obj 129 168 /;
#X obj 129 260 t b f;
#X obj 229 388 loadbang;
#X text 502 35 // 250 == start;
#X text 58 4 net clock connected to Publisher's java code;
#N canvas 902 175 450 578 receiveFROMgui 0;
#X obj 26 17 r 1x.s;
#X obj 26 60 s netclockspeed.s;
#X obj 27 132 s netclockspeed.s;
#X obj 27 89 r 2x.s;
#X obj 26 202 s netclockspeed.s;
#X obj 26 159 r 3x.s;
#X obj 24 270 s netclockspeed.s;
#X obj 24 227 r 4x.s;
#X obj 20 344 s netclockspeed.s;
#X obj 20 301 r 6x.s;
#X obj 20 416 s netclockspeed.s;
#X obj 20 373 r 8x.s;
#X msg 26 37 24;
#X msg 27 109 12;
#X msg 26 179 8;
#X msg 24 247 6;
#X msg 20 321 4;
#X msg 20 393 3;
#X obj 248 58 s netclockspeed.s;
#X msg 248 35 48;
#X obj 248 15 r halfx.s;
#X obj 251 138 s netclockspeed.s;
#X obj 251 95 r quarterx.s;
#X msg 251 115 36;
#X connect 0 0 12 0;
#X connect 3 0 13 0;
#X connect 5 0 14 0;
#X connect 7 0 15 0;
#X connect 9 0 16 0;
#X connect 11 0 17 0;
#X connect 12 0 1 0;
#X connect 13 0 2 0;
#X connect 14 0 4 0;
#X connect 15 0 6 0;
#X connect 16 0 8 0;
#X connect 17 0 10 0;
#X connect 19 0 18 0;
#X connect 20 0 19 0;
#X connect 22 0 23 0;
#X connect 23 0 21 0;
#X restore 649 155 pd receiveFROMgui;
#X obj 129 599 outlet bang;
#X obj 480 527 t b b;
#X obj 607 475 r audioon.s;
#X obj 607 496 sel 1 0;
#X obj 129 438 metro 250;
#X obj 129 419 f 1;
#X obj 338 27 route 248 250 251 252;
#N canvas 616 199 573 499 average 0;
#X obj 100 100 f 0;
#X obj 132 100 + 1;
#X obj 255 226 + 1;
#X obj 115 68 f 0;
#X obj 31 327 /;
#X obj 31 16 inlet value;
#X obj 115 16 inlet reset;
#X obj 31 353 outlet ave;
#X obj 31 66 t b f b, f 12;
#X obj 65 197 array set clockSmoothing;
#X obj 31 272 array sum clockSmoothing;
#X obj 193 107 array define clockSmoothing 100;
#X obj 193 15 inlet reset;
#X msg 193 72 const \$1;
#X obj 100 171 mod 100;
#X obj 255 197 moses 100;
#X connect 0 0 1 0;
#X connect 0 0 14 0;
#X connect 0 0 15 0;
#X connect 1 0 0 1;
#X connect 2 0 4 1;
#X connect 2 0 10 1;
#X connect 3 0 0 1;
#X connect 4 0 7 0;
#X connect 5 0 8 0;
#X connect 6 0 3 0;
#X connect 8 0 10 0;
#X connect 8 1 9 0;
#X connect 8 2 0 0;
#X connect 10 0 4 0;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X connect 14 0 9 1;
#X connect 15 0 2 0;
#X restore 338 104 pd average;
#X obj 338 54 t b b;
#X obj 338 82 timer;
#X text 652 214 // *24 = 1x // *12 = 2x // *8 = 3x // *6 = 4x //;
#X text 652 229 // *4 = 6x // *3 = 8x //;
#X text 655 190 // *48 = 1/2x // *36 = 3/4x // *44 = 2/3x;
#X obj 338 261 t b f;
#X obj 162 180 r clockmode.s;
#X obj 129 237 spigot;
#X obj 162 199 swap 1;
#X obj 162 218 -;
#X obj 371 209 r clockmode.s;
#X obj 338 238 spigot;
#X obj 156 283 / 24;
#X obj 180 417 * 24;
#X text 88 83 local control pd only;
#X obj 313 438 metro 250;
#X obj 313 419 f 1;
#X text 389 440 raw metro = equivalent to raw midi rate;
#X obj 313 595 outlet rawmidi;
#X obj 129 510 t b b;
#X obj 114 36 r netclockspeed.s;
#X obj 114 127 f;
#X obj 114 58 t b f;
#X msg 434 62 0;
#X msg 381 144 1;
#X obj 420 128 s \$0-reset;
#X obj 790 644 r \$0-reset;
#X obj 789 676 outlet reset;
#X obj 485 303 r startstop.s;
#X obj 381 167 s startstop.s;
#X obj 434 85 s startstop.s;
#X connect 1 0 28 0;
#X connect 1 1 0 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 11 0;
#X connect 6 1 12 0;
#X connect 14 0 51 1;
#X connect 15 0 16 0;
#X connect 15 1 16 1;
#X connect 16 0 37 0;
#X connect 17 0 27 0;
#X connect 17 0 46 0;
#X connect 17 1 42 0;
#X connect 18 0 27 0;
#X connect 18 0 46 0;
#X connect 23 0 6 0;
#X connect 23 1 3 0;
#X connect 24 0 25 0;
#X connect 25 0 4 0;
#X connect 25 1 5 0;
#X connect 26 0 49 0;
#X connect 27 0 26 0;
#X connect 28 0 30 0;
#X connect 28 1 54 0;
#X connect 28 2 55 0;
#X connect 28 3 53 0;
#X connect 29 0 41 0;
#X connect 30 0 31 0;
#X connect 30 1 31 1;
#X connect 31 0 29 0;
#X connect 35 0 27 0;
#X connect 35 0 46 0;
#X connect 35 1 43 0;
#X connect 35 1 45 1;
#X connect 36 0 38 0;
#X connect 37 0 17 0;
#X connect 38 0 39 0;
#X connect 38 1 39 1;
#X connect 39 0 37 1;
#X connect 40 0 41 1;
#X connect 41 0 35 0;
#X connect 42 0 43 0;
#X connect 42 0 45 1;
#X connect 43 0 26 1;
#X connect 45 0 48 0;
#X connect 46 0 45 0;
#X connect 49 0 22 0;
#X connect 49 1 23 0;
#X connect 50 0 52 0;
#X connect 51 0 15 0;
#X connect 52 0 51 0;
#X connect 52 1 43 1;
#X connect 53 0 60 0;
#X connect 54 0 59 0;
#X connect 56 0 57 0;
#X connect 58 0 46 0;
#X connect 58 0 27 0;
